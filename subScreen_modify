import java.awt.*;
import java.awt.image.BufferedImage;
import javax.swing.*;


import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;


public class subScreen extends JFrame {
	JButton hintbt;
	BufferedImage img = null;
	
	public subScreen() {
		subScreenFrame();
		cursor();
	}
	
	public void cursor() {
		Toolkit tk = Toolkit.getDefaultToolkit();
	    Image cursorimage = tk.getImage("src/img/cursor.png");
	    Point point = new Point(10,10);
	    Cursor cursor = tk.createCustomCursor(cursorimage, point, "");
	    
	    this.setCursor(cursor);
	}
	
	
	 
	
	// 팝업창
	public void popup() {
	 try {
		 
         // 이미지 파일 불러오기
         BufferedImage image = ImageIO.read(new File("src/img/popup-bg.png")); // 팝업 배경 이미지

         // Graphics 객체 생성
         Graphics2D g = image.createGraphics();

         // 텍스트를 그릴 위치와 스타일 설정
         g.setFont(new Font("고양체", Font.PLAIN, 30));
         g.setColor(Color.BLACK);

         // 이미지 위에 그릴 텍스트
         
         String text = "힌트"; // 이곳에 힌트 넣기
         // 텍스트를 이미지에 그림
         g.drawString(text, 50, 50);
         
         // Graphics 객체 닫기
         g.dispose();

         // 이미지를 화면에 표시 		 
         JFrame frame = new JFrame();
         
         frame.setSize(400, 400);
         frame.setLocationRelativeTo(null);
         frame.getContentPane().add(new JLabel(new ImageIcon(image)));
         frame.pack();
         frame.setVisible(true);
        
	 } catch (Exception e) {
         e.printStackTrace();
     }
}


	
	public void subScreenFrame() {
		setTitle("Be My Cafe"); // 프레임 타이틀
		setSize(922, 519); // 프레임 크기
		setResizable(false); // 사이즈 재조정 불가능
		setLocationRelativeTo(null); // 창이 가운데에 뜨도록 함
		setDefaultCloseOperation(EXIT_ON_CLOSE); // 창을 끄면 프로그램을 종료
		
		setLayout(null);
        JLayeredPane layeredPane = new JLayeredPane();
        layeredPane.setBounds(0, 0, 922, 519);
        layeredPane.setLayout(null);
		
		try {
			img = ImageIO.read(new File("src/img/background.png"));
		} catch (IOException e) {
			System.out.println("이미지 로딩 실패");
			System.exit(0);
		}

		subScreenPanel hint = new subScreenPanel();
		hint.setBounds(0, 0, 922, 519);
		
		hintbt = new JButton(new ImageIcon("src/img/cursor.png"));
		hintbt.setBounds(850, 425, 50, 50); // 버튼 위치와 크기 설정
		hintbt.setBorder(null);
	    
		layeredPane.add("Center",  hintbt); // 프레임에 버튼 추가 !!
		layeredPane.add(hint); 

		add(layeredPane);
		setVisible(true); // 화면에 프레임 출력
		
		// 힌트 버튼 클릭시 !
		hintbt.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				popup();
				
			}
		});
		
	}
	
	class subScreenPanel extends JPanel {
		public void paint(Graphics g) {
			g.drawImage(img, 0, 0, null);
		}
	}
}
	
